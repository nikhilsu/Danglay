<div class="row form-elements">
  <%= form_for(@cabpool, layout: :horizontal, url: admin_cabpool_update_path) do |f| %>
      <div class="col-50">
        <h2 class="create-form-heading"><%= "Edit Cab Pool" %></h2>
        <%= label_tag 'Capacity of Cab' %>
        <%= f.text_field :number_of_people, disabled: true %>

        <div class="form-group">
          <label class="label-blue"> Passengers </label>
          <div>
            <span class="label-name">Add a passenger </span>
            <button id="addPassenger">+</button>
          </div>
          <div class="form-group">
            <div id="passenger">
              <% count = 0 %>
              <% @cabpool.users.each do |user| %>
                  <div id="userName">
                    <button id="removePassenger">-</button>
                    <label><%= user.name %></label>
                    <%= hidden_field_tag "oldPassenger#{count += 1}", user.id %>
                  </div>
              <% end %>
            </div>
            <div class="passengersForm">
              <label for="cabpool_users">Name</label>
              <%= collection_select(:users, DateTime.now.strftime('%Q').to_i, User.all, :id, :name, {prompt: true}, class: 'form-control') %>
            </div>
          </div>
        </div>
        <div id="passengersSelection"></div>

        <%= label_tag 'Arrival time to office' %>
        <%= f.time_field :timein, placeholder: 'HH:MM', disabled: true %>
        <%= label_tag 'Departure time from office' %>
        <%= f.time_field :timeout, placeholder: 'HH:MM', disabled: true %>
        <%= f.hidden_field :route, value: @cabpool.route %>

        <label class="control-label required" for="cabpool_type">Cabpool Type</label>

        <div>
          <input disabled="disabled" value="<%= @cabpool.cabpool_type.name %>">
        </div>

        <%= label_tag 'Remarks' %>
        <%= f.text_area :remarks %>
        <%= hidden_field_tag 'id', @cabpool.id %>
        <%= hidden_field_tag 'route', @cabpool.route %>
        <%= f.submit "Update pool", class: "btn-submit" %>
      </div>
  <% end %>
  <div class="col-50">
    <h2>Route Map</h2>
    <div id="map" class="map" style="height: 400px"></div>
    <%= form_for(@cabpool, url: '/admin/cabpools/delete', method: :delete , data: { confirm: 'Are you sure that you want to delete this cabpool?' } ) do %>
        <%= hidden_field_tag 'id', @cabpool.id %>
        <%= button_tag 'Delete Pool' ,class: "btn-alert" %>
    <% end %>
  </div>
  <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCuETg3lyde0IR6XSO1WhVZY69bAp5owcs&callback=initMap_show">
  </script>
</div>